@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-base-light text-text-primary antialiased;
    @apply dark:bg-dark-base-light dark:text-dark-text-primary;
    background-image: radial-gradient(circle at top right, theme('colors.brand-tertiary-glow / 0.1'), transparent 40%),
                      radial-gradient(circle at bottom left, theme('colors.brand-secondary-glow / 0.1'), transparent 50%);
    background-attachment: fixed;
  }
  
  .dark body {
    background-image: radial-gradient(circle at top right, theme('colors.brand-tertiary-glow / 0.15'), transparent 40%),
                      radial-gradient(circle at bottom left, theme('colors.brand-secondary-glow / 0.15'), transparent 50%);
  }

  /* Style for public/embeddable view */
  body.public-view {
    @apply bg-transparent;
    background-image: none;
  }

  /* Custom scrollbar for better aesthetics */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-base-medium dark:bg-dark-base-medium;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-brand-tertiary dark:bg-dark-text-tertiary;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-brand-secondary dark:bg-dark-text-secondary;
  }
}

@layer components {
  .glassmorphic {
    @apply bg-white/60 backdrop-blur-xl border border-white/20 shadow-xl;
    @apply dark:bg-dark-base-medium/60 dark:border-white/10;
  }

  /* Chat styles */
  .chat-container {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.brand-tertiary') theme('colors.base-medium');
  }

  .chat-bubble {
    @apply glassmorphic max-w-md p-3 rounded-2xl relative;
    border-width: 2px;
    border-style: solid;
    border-image-slice: 1;
  }

  .chat-bubble-user {
    @apply rounded-br-none;
    border-image-source: linear-gradient(to bottom right, theme('colors.brand-secondary-glow'), theme('colors.brand-tertiary-glow'));
  }

  .chat-bubble-assistant {
    @apply rounded-bl-none;
    border-image-source: linear-gradient(to bottom left, theme('colors.brand-tertiary-glow'), theme('colors.brand-secondary-glow'));
  }

  /* Typing indicator */
  .typing-indicator span {
    height: 8px;
    width: 8px;
    float: left;
    margin: 0 1px;
    background-color: theme('colors.text-secondary');
    display: block;
    border-radius: 50%;
    opacity: 0.4;
    animation: 1s blink infinite .3333s;
  }

  .typing-indicator span:nth-child(2) {
    animation-delay: .6666s;
  }

  .typing-indicator span:nth-child(3) {
    animation-delay: 1s;
  }

  @keyframes blink {
    50% {
      opacity: 1;
    }
  }
}

@keyframes swipe-hint {
  0%, 100% {
    transform: translateX(0);
    opacity: 0.7;
  }
  50% {
    transform: translateX(-15px);
    opacity: 1;
  }
}

.animate-swipe-hint {
  animation: swipe-hint 2.5s ease-in-out infinite;
}